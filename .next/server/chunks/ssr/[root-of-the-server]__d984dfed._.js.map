{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","../../../../app/admin/page.tsx"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","\"use client\";\n\nimport { useEffect, useState } from \"react\";\n\nexport default function AdminIdeas() {\n  // Clientseitiger Admin-Check\n  useEffect(() => {\n    if (typeof document !== \"undefined\") {\n      const isAdmin = document.cookie.split(\";\").some((c) => c.trim() === \"admin=1\");\n      if (!isAdmin) {\n        window.location.href = \"/admin/login\";\n      }\n    }\n  }, []);\n  const [ideas, setIdeas] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  async function fetchIdeas() {\n    setLoading(true);\n    setError(null);\n    try {\n      const res = await fetch(\"/api/admin/ideas\");\n      const data = await res.json();\n      setIdeas(data.ideas);\n    } catch (e: any) {\n      setError(e?.message || \"Fehler beim Laden\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  async function releaseIdea(id: string) {\n    await fetch(`/api/admin/ideas/${id}`, {\n      method: \"PATCH\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ status: \"release\" }),\n    });\n    fetchIdeas();\n  }\n\n  useEffect(() => {\n    fetchIdeas();\n  }, []);\n\n  return (\n    <main style={{ maxWidth: 600, margin: \"40px auto\" }}>\n      <h1>Ideen Moderation</h1>\n      {loading && <div>Lade...</div>}\n      {error && <div style={{ color: \"red\" }}>{error}</div>}\n      <ul style={{ listStyle: \"none\", padding: 0 }}>\n        {ideas.map((idea) => (\n          <li key={idea.id} style={{ margin: \"16px 0\", padding: 12, border: \"1px solid #ccc\", borderRadius: 8 }}>\n            <div style={{ marginBottom: 8 }}>{idea.text}</div>\n            <button onClick={() => releaseIdea(idea.id)} disabled={idea.status === \"release\"}>\n              {idea.status === \"release\" ? \"Freigegeben\" : \"Freigeben\"}\n            </button>\n          </li>\n        ))}\n      </ul>\n    </main>\n  );\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","vendored","ReactJsxRuntime","React"],"mappings":"0NA0BQG,EAAOC,OAAO,CAAGC,EAAQ,CAAA,CAAA,IAAA,iCC1BjCF,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRI,QAAQ,CAAC,YAAY,CAAEC,eAAe,+BCFxCP,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRI,QAAQ,CAAC,YAAY,CAAEE,KAAK,0CCA9B,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IAEtB,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACgB,aAAa,AAAjC,OAAO,WAEL,AADY,CACX,QADoB,MAAM,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,AAAC,GAAmB,YAAb,EAAE,IAAI,MAE3D,OAAO,QAAQ,CAAC,IAAI,CAAG,cAAA,CADpB,CAIT,EAAG,AAJe,EAIb,EACL,GAAM,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAQ,EAAE,EACtC,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjC,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAElD,eAAe,IACb,GAAW,GACX,EAAS,MACT,GAAI,CACF,IAAM,EAAM,MAAM,MAAM,oBAClB,EAAO,MAAM,EAAI,IAAI,GAC3B,EAAS,EAAK,KAAK,CACrB,CAAE,MAAO,EAAQ,CACf,EAAS,GAAG,SAAW,oBACzB,QAAU,CACR,GAAW,EACb,CACF,CAEA,eAAe,EAAY,CAAU,EACnC,MAAM,MAAM,CAAC,iBAAiB,EAAE,EAAA,CAAI,CAAE,CACpC,OAAQ,QACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,CAAE,OAAQ,SAAU,EAC3C,GACA,GACF,CAMA,MAJA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GACF,EAAG,EAAE,EAGH,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,MAAO,CAAE,SAAU,IAAK,OAAQ,WAAY,YAChD,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,qBACH,GAAW,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,UAAI,YAChB,GAAS,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,MAAO,CAAE,MAAO,KAAM,WAAI,IACzC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,MAAO,CAAE,UAAW,OAAQ,QAAS,CAAE,WACxC,EAAM,GAAG,CAAE,AAAD,GACT,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAiB,MAAO,CAAE,OAAQ,SAAU,QAAS,GAAI,OAAQ,iBAAkB,aAAc,CAAE,YAClG,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,MAAO,CAAE,aAAc,CAAE,WAAI,EAAK,IAAI,GAC3C,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,QAAS,IAAM,EAAY,EAAK,EAAE,EAAG,SAA0B,YAAhB,EAAK,MAAM,UAC/C,YAAhB,EAAK,MAAM,CAAiB,cAAgB,gBAHxC,EAAK,EAAE,OAU1B","ignoreList":[0,1,2]}