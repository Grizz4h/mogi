(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23261,e=>{"use strict";var i=e.i(43476),t=e.i(71645);function n(){(0,t.useEffect)(()=>{"undefined"!=typeof document&&(document.cookie.split(";").some(e=>"admin=1"===e.trim())||(window.location.href="/admin/login"))},[]);let[e,n]=(0,t.useState)([]),[s,a]=(0,t.useState)(!0),[d,l]=(0,t.useState)(null);async function o(){a(!0),l(null);try{let e=await fetch("/api/admin/ideas"),i=await e.json();n(i.ideas)}catch(e){l(e?.message||"Fehler beim Laden")}finally{a(!1)}}async function r(e){await fetch(`/api/admin/ideas/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"release"})}),o()}return(0,t.useEffect)(()=>{o()},[]),(0,i.jsxs)("main",{style:{maxWidth:600,margin:"40px auto"},children:[(0,i.jsx)("h1",{children:"Ideen Moderation"}),s&&(0,i.jsx)("div",{children:"Lade..."}),d&&(0,i.jsx)("div",{style:{color:"red"},children:d}),(0,i.jsx)("ul",{style:{listStyle:"none",padding:0},children:e.map(e=>(0,i.jsxs)("li",{style:{margin:"16px 0",padding:12,border:"1px solid #ccc",borderRadius:8},children:[(0,i.jsx)("div",{style:{marginBottom:8},children:e.text}),(0,i.jsx)("button",{onClick:()=>r(e.id),disabled:"release"===e.status,children:"release"===e.status?"Freigegeben":"Freigeben"})]},e.id))})]})}e.s(["default",()=>n])}]);