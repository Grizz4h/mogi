module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},60350,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=(a,b,c)=>Math.max(b,Math.min(c,a));function e(){let[a,e]=(0,c.useState)(""),[f,g]=(0,c.useState)(!1),h=(0,c.useRef)(null),[i,j]=(0,c.useState)([]),[k,l]=(0,c.useState)(0),[m,n]=(0,c.useState)(!0),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)(0),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)("none"),[w,x]=(0,c.useState)(220),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(!1),C=(0,c.useRef)(null),D=(0,c.useRef)(null),E=(0,c.useRef)(null),F=(0,c.useRef)(null),G=(0,c.useRef)(null),H=i[k];(0,c.useMemo)(()=>s?q>30?"yes":q<-30?"no":"none":"none",[q,s]);let I=(0,c.useMemo)(()=>s?d(Math.abs(q)/170,0,1):0,[q,s]),J=q>0?"yes":"no",K=(0,c.useMemo)(()=>10*Math.max(-1,Math.min(1,q/195)),[q]);async function L(){n(!0),p(null);try{let a=await fetch("/api/ideas",{cache:"no-store"});if(!a.ok)throw Error(`API ${a.status}`);let b=await a.json();j(b.ideas??[]),l(0),r(0)}catch(a){p(a?.message??"Fehler beim Laden")}finally{n(!1)}}async function M(b){b&&b.preventDefault();let c=a.trim();if(c){g(!0);try{(await fetch("/api/ideas",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:c})})).ok&&(e(""),await L(),setTimeout(()=>{h.current&&h.current.blur()},100))}finally{g(!1)}}}async function N(a,b){j(c=>c.map(c=>c.id!==a?c:{...c,yesCount:"yes"===b?c.yesCount+1:c.yesCount,noCount:"no"===b?c.noCount+1:c.noCount}));try{await fetch("/api/vote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,dir:b})})}catch{}}async function O(a){H&&(await N(H.id,a),v("throw"),r("yes"===a?900:-900),t(!1),setTimeout(()=>{v("none"),z(!0),setTimeout(()=>{r(0),t(!1),z(!1),B(!0),l(a=>Math.min(a+1,i.length)),setTimeout(()=>B(!1),200)},400)},320))}function P(a){if(!s)return;if(null!=E.current)try{a.currentTarget.releasePointerCapture(E.current)}catch{}let b=Math.abs(q),c=null,d=Date.now(),e=G.current?d-G.current:null;if(null!==e&&e<120&&b>60?c=q>0?"yes":"no":b>=170&&(c=q>0?"yes":"no"),!c){let a=Math.round(220);x(a),v("snap"),r(0),t(!1),C.current=null,D.current=null,E.current=null,F.current=null,G.current=null,setTimeout(()=>v("none"),a+40);return}v("throw"),r(q>0?900:-900),t(!1),setTimeout(()=>{v("none"),O(c)},320),C.current=null,D.current=null,E.current=null,F.current=null,G.current=null}(0,c.useEffect)(()=>{L()},[]);let Q=(0,b.jsxs)("form",{onSubmit:M,style:{width:"100%",maxWidth:520,margin:"0 auto 12px auto",display:"flex",gap:8,alignItems:"center",justifyContent:"center"},autoComplete:"off",children:[(0,b.jsx)("input",{ref:h,type:"text",className:"input",placeholder:"Neue Idee eingebenâ€¦",value:a,onChange:a=>e(a.target.value),maxLength:120,disabled:f,style:{flex:1,minWidth:0,fontSize:16,padding:"12px 14px",borderRadius:16,border:"1px solid var(--border)",background:"rgba(255,255,255,0.08)",color:"var(--text)",outline:"none",boxShadow:"none"}}),(0,b.jsx)("button",{type:"submit",className:"btn",style:{minWidth:44,fontSize:18,padding:"12px 16px"},disabled:f||!a.trim(),children:"âž•"})]});if(m)return(0,b.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[Q,(0,b.jsx)("div",{className:"card",style:{display:"grid",placeItems:"center",marginTop:12},children:(0,b.jsx)("div",{style:{color:"var(--muted)",position:"relative",zIndex:1},children:"Lade Ideenâ€¦"})})]});if(o)return(0,b.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[Q,(0,b.jsxs)("div",{className:"card",style:{display:"grid",gap:12,placeItems:"center",marginTop:12},children:[(0,b.jsxs)("div",{style:{position:"relative",zIndex:1,textAlign:"center"},children:[(0,b.jsx)("div",{style:{fontWeight:800},children:"Fehler"}),(0,b.jsx)("div",{style:{color:"var(--muted)",marginTop:6},children:o})]}),(0,b.jsx)("button",{className:"btn",onClick:L,children:"â†» Neu laden"})]})]});if(!H)return(0,b.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",minHeight:360},children:[Q,(0,b.jsx)("div",{className:"card",style:{display:"grid",placeItems:"center",marginTop:12},children:(0,b.jsxs)("div",{style:{position:"relative",zIndex:1,textAlign:"center"},children:[(0,b.jsx)("div",{style:{fontWeight:900,fontSize:20},children:"Durchgeswiped."}),(0,b.jsx)("div",{style:{color:"var(--muted)",marginTop:8},children:"Du hast alle Ideen fÃ¼r jetzt gesehen."})]})}),(0,b.jsxs)("div",{className:"actions",style:{marginTop:16,marginBottom:0},children:[(0,b.jsx)("button",{className:"btn",onClick:L,children:"â†» Neu laden"}),(0,b.jsx)("button",{className:"btn",onClick:()=>window.location.href="/",children:"â†© Start"})]})]});let R="none",S={};s||(R="snap"===u?"transform 320ms cubic-bezier(0.22, 1, 0.36, 1), box-shadow 320ms cubic-bezier(0.22, 1, 0.36, 1)":"throw"===u?"transform 260ms cubic-bezier(.6,-0.28,.74,.05), box-shadow 220ms cubic-bezier(.6,-0.28,.74,.05)":"transform 320ms cubic-bezier(0.22, 1, 0.36, 1), box-shadow 320ms cubic-bezier(0.22, 1, 0.36, 1)"),A&&(S={transform:"scale(0.93)",opacity:.25,transition:"transform 180ms cubic-bezier(0.22, 1, 0.36, 1), opacity 180ms cubic-bezier(0.22, 1, 0.36, 1)",willChange:"transform, opacity"},setTimeout(()=>{let a=document.querySelector('.card:not([style*="pointer-events: none"])');a&&(a.style.transform="scale(1)",a.style.opacity="1")},10));let T={transform:`translateX(${q}px) rotate(${K*("throw"===u?1.18:1)}deg) scale(${s?1.012:1})`,transition:R,boxShadow:s?"0 24px 64px 0 rgba(0,0,0,0.60), 0 2px 8px 0 rgba(0,0,0,0.10)":"var(--shadow)",...!y&&A?S:{}},U={opacity:"yes"===J?I:0,transform:`scale(${.9+.1*I})`,transition:s?"none":"opacity 200ms ease, transform 200ms ease"},V={opacity:"no"===J?I:0,transform:`scale(${.9+.1*I})`,transition:s?"none":"opacity 200ms ease, transform 200ms ease"},W=q>0?"rgba(64,255,150,0.7)":q<0?"rgba(255,90,120,0.7)":"rgba(120,120,255,0.5)",X=d(Math.abs(q)/170,0,1),Y=.08*q,Z={position:"absolute",top:"50%",left:"50%",width:"180%",height:"180%",transform:`translate(-50%, -50%) scale(${1+.08*X}) translateX(${Y}px)`,pointerEvents:"none",zIndex:0,opacity:s?.07+.13*X:0,background:`radial-gradient(ellipse at ${q>0?"60%":q<0?"40%":"50%"} 50%, ${W}, transparent 70%)`,transition:s?"none":"opacity 180ms cubic-bezier(.4,1.2,.4,1)",willChange:"opacity, transform"};return(0,b.jsxs)("div",{style:{width:"100%",position:"relative",display:"flex",flexDirection:"column",alignItems:"center",minHeight:360},children:[Q,(0,b.jsx)("div",{style:Z}),(0,b.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"flex-start",width:"100%"},children:[!y&&H&&(0,b.jsxs)("div",{className:"card",style:T,onPointerDown:function(a){H&&(E.current=a.pointerId,a.currentTarget.setPointerCapture(a.pointerId),C.current=a.clientX,D.current=a.clientY,F.current=null,G.current=Date.now(),t(!0),v("none"))},onPointerMove:function(a){if(s&&null!=C.current&&null!=D.current){if(null==F.current){let b=a.clientX-C.current,c=a.clientY-D.current;if(!(Math.abs(b)>10||Math.abs(c)>10))return;Math.abs(b)>Math.abs(c)?F.current="swipe":F.current="scroll"}if("scroll"===F.current){t(!1),C.current=null,D.current=null,E.current=null,F.current=null;return}r(a.clientX-C.current),a.preventDefault()}},onPointerUp:P,onPointerCancel:P,children:[s&&(0,b.jsxs)("div",{className:"stampOverlay",children:[(0,b.jsx)("div",{className:"stampFancy stampYes",style:U,children:"âœ“ YES"}),(0,b.jsx)("div",{className:"stampFancy stampNo",style:V,children:"âœ• NOPE"})]}),(0,b.jsxs)("div",{className:"cardTop",children:[(0,b.jsx)("div",{className:"badge",children:"Antrag"}),(0,b.jsxs)("div",{className:"pills",children:[(0,b.jsxs)("div",{className:"pill",children:["ðŸ‘ ",H.yesCount]}),(0,b.jsxs)("div",{className:"pill",children:["ðŸ‘Ž ",H.noCount]})]})]}),(0,b.jsx)("div",{className:"ideaText",children:H.text}),(0,b.jsxs)("div",{className:"hint",children:[(0,b.jsx)("span",{children:"â†"}),(0,b.jsx)("span",{children:"â†’"})]})]}),y&&H&&(0,b.jsxs)("div",{className:"card",style:{...T,pointerEvents:"none",zIndex:2},children:[(0,b.jsxs)("div",{className:"cardTop",children:[(0,b.jsx)("div",{className:"badge",children:"Antrag"}),(0,b.jsxs)("div",{className:"pills",children:[(0,b.jsxs)("div",{className:"pill",children:["ðŸ‘ ",H.yesCount]}),(0,b.jsxs)("div",{className:"pill",children:["ðŸ‘Ž ",H.noCount]})]})]}),(0,b.jsx)("div",{className:"ideaText",children:H.text}),(0,b.jsxs)("div",{className:"hint",children:[(0,b.jsx)("span",{children:"â† nope"}),(0,b.jsx)("span",{children:"yes â†’"})]})]}),(0,b.jsxs)("div",{className:"actions",children:[(0,b.jsx)("button",{className:"btn btnNo",onClick:()=>O("no"),disabled:y,children:"ðŸ‘Ž Nope"}),(0,b.jsx)("button",{className:"btn btnYes",onClick:()=>O("yes"),disabled:y,children:"ðŸ‘ Yes"})]})]})]})}function f(){return(0,b.jsxs)("main",{className:"container",children:[(0,b.jsxs)("header",{className:"header",children:[(0,b.jsx)("img",{className:"logo",src:"/logo.png",alt:"Ministry of Good Idea Logo"}),(0,b.jsx)("p",{className:"subtitle",children:"Swipe. Schmunzeln. KopfschÃ¼tteln. Swipe."})]}),(0,b.jsx)("section",{className:"deckWrap",children:(0,b.jsx)(e,{})}),(0,b.jsx)("div",{className:"footer",children:"MVP Â· Mobile-first Â· Login spÃ¤ter Â· Ideen werden aus DB geladen"})]})}a.s(["default",()=>f],60350)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__5b8bc4d3._.js.map